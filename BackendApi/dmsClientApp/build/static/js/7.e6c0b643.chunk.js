(this.webpackJsonpDMS=this.webpackJsonpDMS||[]).push([[7],{753:function(e,t,r){"use strict";var a=r(757),s=r.n(a),n="http://localhost:3001/api",c=s.a.create({baseURL:n});c.interceptors.request.use((function(e){return i()&&(1===e.url.split("?").length?e.url="".concat(e.url,"?access_token=").concat(i()):e.url="".concat(e.url,"&access_token=").concat(i())),e}),(function(e){console.log(e),Promise.reject(e)})),c.interceptors.response.use((function(e){return e}),(function(e){if(console.log("err"+e),401!==e.response.status)return Promise.reject(e.toJSON());if("/login"!==e.response.config.url){var t=sessionStorage.getItem("refresh_token");if(t)return new Promise((function(r){return o(t).then((function(t){if(console.log("refresh_token Info:",t),200===t.status){sessionStorage.setItem("access_token",t.data.access_token),sessionStorage.setItem("refresh_token",t.data.refresh_token);var a=e.config,s=a.url;return a.url=s.replace(s.split("&").pop(),"access_token="+t.data.access_token),r(c(a))}sessionStorage.clear(),window.location.replace("/login")}))}));sessionStorage.clear(),window.location.replace("/login")}}));var o=function(e){return s()({method:"POST",headers:{Authorization:"Basic "+btoa("my-trusted-client:secret"),"Content-Type":"application/x-www-form-urlencoded"},url:"".concat(n,"/oauth/token?grant_type=refresh_token&refresh_token=").concat(e)})},i=function(){return""};t.a=c},754:function(e,t,r){"use strict"},759:function(e,t,r){},762:function(e,t,r){"use strict";var a=r(12),s=r(20),n=r(2),c=r.n(n),o=r(774),i=r(728),l=(r(748),r(837)),u=r(834),d=r(738),b=r(838),j=r(839),m=r(840),p=r(775),h=r(7),O=r.n(h),x=(r(759),r.p+"static/media/loader-table.f2856051.gif"),f=r(1);function g(e){var t=e.column,r=t.filterValue,a=(t.preFilteredRows,t.setFilter);return Object(f.jsx)(i.a,{type:"text",value:r||"",onChange:function(e){a(e.target.value||void 0)},placeholder:"Search...",style:{fontSize:"10px"}})}function v(e,t,r){return Object(p.a)(e,r,{keys:[function(e){return e.values[t]}]})}v.autoRemove=function(e){return!e};t.a=function(e){var t=e.columns,r=e.data,i=e.loading,p=void 0===i||i,h=Object(n.useState)(!0),N=Object(s.a)(h,2),y=N[0],A=(N[1],c.a.useMemo((function(){return{fuzzyText:v,text:function(e,t,r){return e.filter((function(e){var a=e.values[t];return void 0===a||String(a).toLowerCase().startsWith(String(r).toLowerCase())}))}}}),[])),w=c.a.useMemo((function(){return{Filter:g}}),[]),S=Object(o.useTable)({columns:t,data:r,initialState:{pageIndex:0,pageSize:10},defaultColumn:w,filterTypes:A},o.useFilters,o.useGlobalFilter,o.useSortBy,o.usePagination),k=S.getTableProps,C=S.getTableBodyProps,R=S.headerGroups,T=S.page,D=S.prepareRow,E=S.canPreviousPage,P=S.canNextPage,M=S.pageOptions,F=S.pageCount,I=S.gotoPage,B=S.nextPage,Q=S.previousPage,V=S.setPageSize,_=(S.setAllFilters,S.state),G=_.pageIndex,q=_.pageSize;return Object(f.jsxs)(f.Fragment,{children:[!1,Object(f.jsxs)(l.a,Object(a.a)(Object(a.a)({},k()),{},{hover:!0,bordered:!0,responsive:!0,children:[Object(f.jsx)("thead",{children:R.map((function(e,t){return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("tr",Object(a.a)(Object(a.a)({className:"theader"},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e,t){return Object(f.jsxs)("th",Object(a.a)(Object(a.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{children:[e.render("Header"),Object(f.jsx)("span",{className:"float-right",children:e.notShowSortingDisplay?"":e.isSorted?e.isSortedDesc?Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZUlEQVQ4y2NgGAWjYBSggaqGu5FA/BOIv2PBIPFEUgxjB+IdQPwfC94HxLykus4GiD+hGfQOiB3J8SojEE9EM2wuSJzcsFMG4ttQgx4DsRalkZENxL+AuJQaMcsGxBOAmGvopk8AVz1sLZgg0bsAAAAASUVORK5CYII=",alt:"descending"}):Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAAZ0lEQVQ4y2NgGLKgquEuFxBPAGI2ahhWCsS/gDibUoO0gPgxEP8H4ttArEyuQYxAPBdqEAxPBImTY5gjEL9DM+wTENuQahAvEO9DMwiGdwAxOymGJQLxTyD+jgWDxCMZRsEoGAVoAADeemwtPcZI2wAAAABJRU5ErkJggg==",alt:"ascending"}):Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAAkElEQVQoz7XQMQ5AQBCF4dWQSJxC5wwax1Cq1e7BAdxD5SL+Tq/QCM1oNiJidwox0355mXnG/DrEtIQ6azioNZQxI0ykPhTQIwhCR+BmBYtlK7kLJYwWCcJA9M4qdrZrd8pPjZWPtOqdRQy320YSV17OatFC4euts6z39GYMKRPCTKY9UnPQ6P+GtMRfGtPnBCiqhAeJPmkqAAAAAElFTkSuQmCC",alt:"sorting"})})]}),t)}))}),t),y?Object(f.jsx)("tr",{style:{backgroundColor:"aliceBlue"},children:e.headers.map((function(e,t){return Object(f.jsx)("th",{className:"tfilter",children:e.canFilter?Object(f.jsxs)(u.a,{className:"mb-1",children:[Object(f.jsxs)(d.a,{className:"divFilter mb-0",children:["Filter ",e.render("Header")," :"]}),e.render("Filter")]}):null},t)}))}):""]})}))}),p?Object(f.jsx)("tbody",{children:Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:"10000",className:"text-center",children:Object(f.jsx)("img",{src:x,alt:"Loading..."})})})}):Object(f.jsx)(f.Fragment,{children:0===T.length?Object(f.jsx)("tbody",{children:Object(f.jsx)("tr",{children:Object(f.jsx)("td",{colSpan:"10000",className:"text-left",children:"No rows found"})})}):Object(f.jsx)("tbody",Object(a.a)(Object(a.a)({},C()),{},{children:T.map((function(e,t){return D(e),Object(f.jsx)("tr",Object(a.a)(Object(a.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(f.jsx)("td",Object(a.a)(Object(a.a)({},e.getCellProps({className:e.column.className})),{},{children:e.render("Cell")}))}))}),t)}))}))})]})),T.length>0&&Object(f.jsxs)("div",{className:O()("div-pagination",{"d-none":p}),children:[Object(f.jsx)("div",{className:"div-pagination-2",children:Object(f.jsxs)("div",{className:"div-pagination-2-2",children:["Showing"," ",Object(f.jsx)("select",{className:"selectan",value:q,onChange:function(e){V(Number(e.target.value))},children:[10,20,30,50,100].map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))})," ","record per-page"]})}),Object(f.jsxs)("div",{className:"div-pagination-1",children:["Page : ",G+1," from ",M.length," ",Object(f.jsxs)(b.a,{className:"pagina",children:[Object(f.jsx)(j.a,{disabled:!E,children:Object(f.jsx)(m.a,{onClick:function(){return I(0)},children:"<<"})}),Object(f.jsx)(j.a,{disabled:!E,children:Object(f.jsx)(m.a,{onClick:function(){return Q()},children:"<"})}),Object(f.jsx)(j.a,{disabled:!P,children:Object(f.jsx)(m.a,{onClick:function(){return B()},children:">"})}),Object(f.jsx)(j.a,{disabled:!P,children:Object(f.jsx)(m.a,{onClick:function(){return I(F-1)},children:">>"})})]}),Object(f.jsxs)("div",{className:"div-pagination-2-1",children:["Next to Page "," : ",Object(f.jsx)("input",{className:"inputan",type:"number",defaultValue:G+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;I(t)}})]})," "]})]})]})}},763:function(e,t,r){"use strict";var a=r(12),s=r(57),n=(r(2),r(7)),c=r.n(n),o=r(722),i=r(723),l=r(734),u=r(735),d=r(226),b=r.p+"static/media/corner-4.62f4f1af.png",j=function(e){return{__html:e}},m=r(1),p=["title","titleTag","description","image","col","children"],h=function(e){var t=e.title,r=e.titleTag,n=e.description,b=e.image,h=e.col,O=e.children,x=Object(s.a)(e,p);return Object(m.jsxs)(o.a,Object(a.a)(Object(a.a)({},x),{},{children:[Object(m.jsx)(d.a,{image:b,className:"bg-card",style:{borderTopRightRadius:"0.375rem",borderBottomRightRadius:"0.375rem"}}),Object(m.jsx)(i.a,{children:Object(m.jsx)(l.a,{children:Object(m.jsxs)(u.a,Object(a.a)(Object(a.a)({},h),{},{children:[Object(m.jsx)(r,{className:"mb-0",children:t}),n&&Object(m.jsx)("p",{className:c()("mt-2",{"mb-0":!O}),dangerouslySetInnerHTML:j(n)}),O]}))})})]}))};h.defaultProps={col:{lg:8},image:b,titleTag:"h3"};t.a=h},764:function(e,t,r){"use strict";r.d(t,"c",(function(){return l})),r.d(t,"d",(function(){return d})),r.d(t,"a",(function(){return b})),r.d(t,"e",(function(){return j})),r.d(t,"b",(function(){return m}));var a=r(56),s=r(752),n=r(751),c=r.n(n),o=r(753),i=function(e){return Object(o.a)({method:"get",url:"/Transmittal/".concat(e)})},l=(r(754),function(){var e=Object(s.a)(c.a.mark((function e(t){var r,s,n,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_PROCESS"}),e.next=4,Object(o.a)({method:"get",url:"/Transmittals"});case 4:if(200!=(r=e.sent).status){e.next=12;break}return s=u(r.data.data[0]||[]),e.next=9,t({type:"FETCH_ALL_DATA",payload:Object(a.a)(s)});case 9:return e.abrupt("return",{error:!1});case 12:return t({type:"FETCH_ERROR",error:r.data.errorMessage}),e.abrupt("return",{error:!0,errorMessage:r.data.errorMessage});case 14:e.next=23;break;case 16:return e.prev=16,e.t0=e.catch(0),n=e.t0,i=n.message,e.next=22,t({type:"FETCH_ERROR",error:i});case 22:return e.abrupt("return",{error:!0,errorMessage:i});case 23:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}()),u=function(e){var t=[],r=p(e,"transmittalid");return Object.keys(r).map((function(e){if(r[e].length>0){var a={transmittalid:e,wonNo:r[e][0].wonNo,wonTitle:r[e][0].wonTitle,transmittalNo:r[e][0].transmittalNo,date:r[e][0].date,from:r[e][0].from,to:r[e][0].to,transmittalDetails:r[e].map((function(e,t){return{tdRecId:t+1,transmittalDetailid:e.transmittalDetailid,docNumber:e.docNumber,description:e.description,rev:e.rev,status:e.status,type:e.type}}))};t.push(a)}})),t},d=function(){var e=Object(s.a)(c.a.mark((function e(t,r){var a,s,n,o,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"REQUEST_PROCESS"}),e.next=4,t({type:"CLEAR_REC"});case 4:return e.next=6,i(r);case 6:if(200!=(a=e.sent).status){e.next=14;break}return s=u(a.data.data[0]||[])||[],e.next=11,t({type:"FETCH_REC",payload:s[0]||{}});case 11:return e.abrupt("return",{error:!1});case 14:return t({type:"FETCH_ERROR",error:n="Something went wrong"}),e.abrupt("return",{error:!0,errorMessage:n});case 17:e.next=26;break;case 19:return e.prev=19,e.t0=e.catch(0),o=e.t0,l=o.message,e.next=25,t({type:"FETCH_ERROR",error:l});case 25:return e.abrupt("return",{error:!0,errorMessage:l});case 26:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(t,r){return e.apply(this,arguments)}}(),b=function(e){e({type:"CLEAR_REC"})},j=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s=t,Object(o.a)({method:"post",url:"/Transmittal",data:s});case 3:if(201!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",{status:r.status,message:r.data.message});case 8:if(200!==r.status){e.next=12;break}return e.abrupt("return",{status:r.status,message:r.data.message});case 12:return e.abrupt("return",{status:r.status,errorMessage:r.data.message,error:r.data.error});case 13:e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(0),a=e.t0,e.abrupt("return",{status:null,errorMessage:a.message,error:a.error});case 19:case"end":return e.stop()}var s}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s.a)(c.a.mark((function e(t){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s=t,Object(o.a)({method:"delete",url:"/Transmittal/".concat(s)});case 3:if(200!==(r=e.sent).status){e.next=8;break}return e.abrupt("return",{status:r.status,message:r.data.message});case 8:return e.abrupt("return",{status:r.status,errorMessage:r.data.message,error:r.data.error});case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),a=e.t0,e.abrupt("return",{status:null,errorMessage:a.message,error:a.error});case 15:case"end":return e.stop()}var s}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),p=function(e,t){return e.reduce((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(e[r[t]]=e[r[t]]||[]).push(r),e}),{})}},832:function(e,t,r){"use strict";r.r(t);var a=r(12),s=r(752),n=r(751),c=r.n(n),o=r(2),i=r(38),l=r(107),u=r(722),d=r(723),b=r(31),j=r(763),m=r(764),p=r(56),h=r(20),O=r(755),x=r(109),f=r.n(x),g=r(807),v=r.n(g),N=r(781),y=r(780),A=(r(830),r(740)),w=r(332),S=r(762),k=r(1),C=y.b({docNumber:y.c().required(),description:y.c().required(),rev:y.c().required(),status:y.c().required(),type:y.c().required()}),R=function(e){var t=Object(o.useState)(!1),r=Object(h.a)(t,2),s=r[0],n=(r[1],Object(o.useState)({})),c=Object(h.a)(n,2),i=c[0],l=c[1],u=e.data,d=e.onDeleteRec,j=e.onSubmitDetailsForm,m=Object(O.e)({mode:"all",resolver:Object(N.a)(C)}),p=m.register,x=m.handleSubmit,f=m.setValue,g=m.reset,v=m.formState.errors,y=function(){g({docNumber:"",description:"",rev:"",status:"",type:""}),l({})},R=[{Header:"Doc No.",accessor:"docNumber"},{Header:"Description",accessor:"description"},{Header:"Rev",accessor:"rev"},{Header:"Status",accessor:"status"},{Header:"Type",accessor:"type"},{Header:"Action",id:"action",Cell:function(e){var t=e.row;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(A.a,{children:[Object(k.jsxs)(w.a,{outline:!0,size:"sm",type:"button",onClick:function(){return function(e){var t=e.original;f("docNumber",t.docNumber,{shouldValidate:!0,shouldDirty:!0}),f("description",t.description,{shouldValidate:!0,shouldDirty:!0}),f("rev",t.rev,{shouldValidate:!0,shouldDirty:!0}),f("status",t.status,{shouldValidate:!0,shouldDirty:!0}),f("type",t.type,{shouldValidate:!0,shouldDirty:!0}),l(Object(a.a)({},t))}(t)},children:[Object(k.jsx)(b.a,{icon:"pencil-alt"})," "]}),Object(k.jsxs)(w.a,{outline:!0,size:"sm",type:"button",onClick:function(){!function(e){d&&d(e)}(t)},children:[" ",Object(k.jsx)(b.a,{icon:"trash"})]})]})})}}];return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("form",{className:" g-2",onSubmit:x((function(e){j(Object(a.a)(Object(a.a)({},i),e),(function(){y()}))})),children:[Object(k.jsxs)("div",{className:"row mb-2",children:[Object(k.jsxs)("div",{className:"col-md-2",children:[Object(k.jsx)("input",Object(a.a)({className:"form-control",size:"sm",id:"docNumber",type:"text",placeholder:"Doc No *"},p("docNumber"))),v.docNumber&&Object(k.jsx)("span",{className:"text-danger fs--2",children:v.docNumber.message})]}),Object(k.jsxs)("div",{className:"col-md-4",children:[Object(k.jsx)("input",Object(a.a)({className:"form-control",size:"sm",id:"description",type:"text",placeholder:"Description *"},p("description"))),v.description&&Object(k.jsx)("span",{className:"text-danger fs--2",children:v.description.message})]}),Object(k.jsxs)("div",{className:"col-md-3",children:[Object(k.jsx)("input",Object(a.a)({className:"form-control",size:"sm",id:"rev",type:"text",placeholder:"Rev *"},p("rev"))),v.rev&&Object(k.jsx)("span",{className:"text-danger fs--2",children:v.rev.message})]}),Object(k.jsxs)("div",{className:"col-md-3",children:[Object(k.jsx)("input",Object(a.a)({className:"form-control",size:"sm",id:"status",type:"text",placeholder:"Status *"},p("status"))),v.status&&Object(k.jsx)("span",{className:"text-danger fs--2",children:v.status.message})]})]}),Object(k.jsxs)("div",{className:"row mb-2",children:[Object(k.jsxs)("div",{className:"col-md-2",children:[Object(k.jsxs)("select",Object(a.a)(Object(a.a)({className:"form-control",size:"sm",id:"type",type:"text",placeholder:"Type *"},p("type")),{},{children:[Object(k.jsx)("option",{value:""}),Object(k.jsx)("option",{value:"ORIGINALS",children:"ORIGINALS"})]})),v.type&&Object(k.jsx)("span",{className:"text-danger fs--2",children:v.type.message})]}),Object(k.jsxs)("div",{className:"col-md-10 text-right",children:[Object(k.jsx)("button",{className:"btn btn-outline-primary mr-2",type:"submit",children:"Save"}),Object(k.jsx)("button",{className:"btn btn-outline-danger",type:"button",onClick:function(){y()},children:"Cancel"})]})]})]},"frmDetails"),Object(k.jsx)(S.a,{columns:R,loading:s,data:u||[]})]})},T=y.b({wonNo:y.c().required(),wonTitle:y.c().required(),transmittalNo:y.c().required(),date:y.a().required(),from:y.c().required(),to:y.c().required()}),D=function(e){var t=e.onCancelClick,r=e.onSubmitClick,n=e.defaultValues,i=Object(o.useState)((n||{}).transmittalDetails||[]),l=Object(h.a)(i,2),u=l[0],d=l[1];Object(o.useEffect)((function(){Object.keys(n).length>0&&(g("wonNo",n.wonNo,{shouldValidate:!0,shouldDirty:!0}),g("transmittalNo",n.transmittalNo,{shouldValidate:!0,shouldDirty:!0}),g("wonTitle",n.wonTitle,{shouldValidate:!0,shouldDirty:!0}),g("date",n.date?f()(n.date,"YYYY-MM-DD").toDate():void 0,{shouldValidate:!0,shouldDirty:!0}),g("from",n.from,{shouldValidate:!0,shouldDirty:!0}),g("to",n.to,{shouldValidate:!0,shouldDirty:!0}),d((n||{}).transmittalDetails))}),[n]);var b=Object(O.e)({mode:"all",resolver:Object(N.a)(T)}),j=b.control,m=b.register,x=b.handleSubmit,g=b.setValue,y=b.formState.errors;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("form",{className:"row g-3",onSubmit:x((function(e){var t=Object(a.a)(Object(a.a)({},n),e);t.transmittalDetailData=Object(p.a)(u),r(t)})),children:[Object(k.jsxs)("div",{className:"col-md-2",children:[Object(k.jsx)("label",{className:"form-label",htmlFor:"wonNo",children:"Won No *"}),Object(k.jsx)("input",Object(a.a)({className:"form-control",id:"wonNo",type:"text"},m("wonNo"))),y.wonNo&&Object(k.jsx)("span",{className:"text-danger fs--2",children:y.wonNo.message})]}),Object(k.jsxs)("div",{className:"col-md-6",children:[Object(k.jsx)("label",{className:"form-label",htmlFor:"wonTitle",children:"Won Title *"}),Object(k.jsx)("input",Object(a.a)({className:"form-control",id:"wonTitle",type:"text"},m("wonTitle"))),y.wonTitle&&Object(k.jsx)("span",{className:"text-danger fs--2",children:y.wonTitle.message})]}),Object(k.jsxs)("div",{className:"col-md-4",children:[Object(k.jsx)("label",{className:"form-label",htmlFor:"transmittalNo",children:"Transmittal No *"}),Object(k.jsx)("input",Object(a.a)({className:"form-control",id:"transmittalNo",type:"text",placeholder:""},m("transmittalNo"))),y.transmittalNo&&Object(k.jsx)("span",{className:"text-danger fs--2",children:y.transmittalNo.message})]}),Object(k.jsxs)("div",{className:"col-md-2",children:[Object(k.jsx)("label",{className:"form-label",htmlFor:"date",children:"Date *"}),Object(k.jsx)(O.a,Object(a.a)(Object(a.a)({id:"date",name:"checkbox",control:j},m("date")),{},{render:function(e){var t=e.field;return Object(k.jsx)(v.a,Object(a.a)({className:"form-control"},t))}})),y.date&&Object(k.jsx)("span",{className:"text-danger fs--2",children:y.date.message})]}),Object(k.jsxs)("div",{className:"col-md-6",children:[Object(k.jsx)("label",{className:"form-label",htmlFor:"from",children:"From *"}),Object(k.jsx)("input",Object(a.a)({className:"form-control",id:"from",type:"text"},m("from"))),y.from&&Object(k.jsx)("span",{className:"text-danger fs--2",children:y.from.message})]}),Object(k.jsxs)("div",{className:"col-md-4",children:[Object(k.jsx)("label",{className:"form-label",htmlFor:"to",children:"To *"}),Object(k.jsx)("input",Object(a.a)({className:"form-control",id:"to",type:"text"},m("to"))),y.to&&Object(k.jsx)("span",{className:"text-danger fs--2",children:y.to.message})]}),Object(k.jsxs)("div",{className:"col-md-12 mt-3 text-right",style:{display:"none"},children:[Object(k.jsx)("button",{className:"btn btn-primary mr-3",type:"submit",id:"btnMasterSubmit",children:"Save"}),Object(k.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(e){t(e)},children:"Cancel"})]})]},"frmMaster"),Object(k.jsxs)("div",{className:"row mt-3",children:[Object(k.jsx)("div",{className:"col-md-12",children:Object(k.jsx)("div",{class:"card border mb-3",children:Object(k.jsx)("div",{class:"card-body position-relative",children:Object(k.jsx)("div",{class:"row",children:Object(k.jsx)("div",{class:"col-md-12",children:Object(k.jsx)(R,{data:u||[],onDeleteRec:function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:-1!==(r=u.findIndex((function(e){return e.tdRecId==t.original.tdRecId})))&&(u.splice(r,1),d(Object(p.a)(u)));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSubmitDetailsForm:function(){var e=Object(s.a)(c.a.mark((function e(t,r){var s,n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.tdRecId){e.next=11;break}if(!((s=u.findIndex((function(e){return e.tdRecId==t.tdRecId})))>-1)){e.next=9;break}return u[s]=Object(a.a)(Object(a.a)({},u[s]),t),console.log(u),e.next=7,d(Object(p.a)(u));case 7:return e.next=9,r();case 9:e.next=14;break;case 11:n=Math.max.apply(Math,u.map((function(e){return e.tdRecId}))),o={description:t.description,docNumber:t.docNumber,rev:t.rev,status:t.status,tdRecId:n+1,transmittalDetailid:0,type:t.type},u.push(o);case 14:return console.log(u),e.next=17,d(Object(p.a)(u));case 17:return e.next=19,r();case 19:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()})})})})})}),Object(k.jsxs)("div",{className:"col-md-12 mt-3 text-right",children:[Object(k.jsx)("button",{className:"btn btn-primary mr-3",type:"button",onClick:function(e){document.getElementById("btnMasterSubmit").click(e)},children:"Save"}),Object(k.jsx)("button",{className:"btn btn-danger",type:"button",onClick:function(e){t(e)},children:"Cancel"})]})]})]})},E=r(227);t.default=function(e){var t=Object(i.g)().id,r=Object(E.c)(),n=(r.loading,r.rec),b=Object(E.b)();Object(o.useEffect)((function(){0==t?Object(m.a)(b):p(t)}),[]);var p=function(){var e=Object(s.a)(c.a.mark((function e(t){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(b,t);case 2:(r=e.sent).error&&l.c.error(r.errorMessage);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var r=Object(s.a)(c.a.mark((function r(a){var s,n;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return s=a,0==t&&(s.transmittalid=0),r.next=4,Object(m.e)(s);case 4:(n=r.sent).error?l.c.error(n.errorMessage):(l.c.success(n.message),e.history.push("/transmittals"));case 6:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(j.a,{title:"Transmittals Rec",className:"mb-2"}),Object(k.jsx)(u.a,{children:Object(k.jsx)(d.a,{children:Object(k.jsx)(D,{defaultValues:Object(a.a)({},n||{}),onCancelClick:Object(s.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.a)(b);case 2:e.history.push("/transmittals");case 3:case"end":return t.stop()}}),t)}))),onSubmitClick:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})})]})}}}]);
//# sourceMappingURL=7.e6c0b643.chunk.js.map