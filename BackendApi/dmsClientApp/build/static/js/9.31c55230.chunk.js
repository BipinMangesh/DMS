/*! For license information please see 9.31c55230.chunk.js.LICENSE.txt */
(this.webpackJsonpDMS=this.webpackJsonpDMS||[]).push([[9],{753:function(e,t,r){"use strict";var n=r(757),s=r.n(n),a="http://localhost:3001/api",o=s.a.create({baseURL:a});o.interceptors.request.use((function(e){return c()&&(1===e.url.split("?").length?e.url="".concat(e.url,"?access_token=").concat(c()):e.url="".concat(e.url,"&access_token=").concat(c())),e}),(function(e){console.log(e),Promise.reject(e)})),o.interceptors.response.use((function(e){return e}),(function(e){if(console.log("err"+e),401!==e.response.status)return Promise.reject(e.toJSON());if("/login"!==e.response.config.url){var t=sessionStorage.getItem("refresh_token");if(t)return new Promise((function(r){return i(t).then((function(t){if(console.log("refresh_token Info:",t),200===t.status){sessionStorage.setItem("access_token",t.data.access_token),sessionStorage.setItem("refresh_token",t.data.refresh_token);var n=e.config,s=n.url;return n.url=s.replace(s.split("&").pop(),"access_token="+t.data.access_token),r(o(n))}sessionStorage.clear(),window.location.replace("/login")}))}));sessionStorage.clear(),window.location.replace("/login")}}));var i=function(e){return s()({method:"POST",headers:{Authorization:"Basic "+btoa("my-trusted-client:secret"),"Content-Type":"application/x-www-form-urlencoded"},url:"".concat(a,"/oauth/token?grant_type=refresh_token&refresh_token=").concat(e)})},c=function(){return""};t.a=o},773:function(e,t,r){"use strict";t.parse=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},s=t||{},a=e.split(";"),i=s.decode||n,c=0;c<a.length;c++){var u=a[c],l=u.indexOf("=");if(!(l<0)){var p=u.substring(0,l).trim();if(void 0==r[p]){var d=u.substring(l+1,u.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[p]=o(d,i)}}}return r},t.serialize=function(e,t,r){var n=r||{},o=n.encode||s;if("function"!==typeof o)throw new TypeError("option encode is invalid");if(!a.test(e))throw new TypeError("argument name is invalid");var i=o(t);if(i&&!a.test(i))throw new TypeError("argument val is invalid");var c=e+"="+i;if(null!=n.maxAge){var u=n.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");c+="; Max-Age="+Math.floor(u)}if(n.domain){if(!a.test(n.domain))throw new TypeError("option domain is invalid");c+="; Domain="+n.domain}if(n.path){if(!a.test(n.path))throw new TypeError("option path is invalid");c+="; Path="+n.path}if(n.expires){if("function"!==typeof n.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+n.expires.toUTCString()}n.httpOnly&&(c+="; HttpOnly");n.secure&&(c+="; Secure");if(n.sameSite){switch("string"===typeof n.sameSite?n.sameSite.toLowerCase():n.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var n=decodeURIComponent,s=encodeURIComponent,a=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(r){return e}}},842:function(e,t,r){"use strict";r.r(t);var n=r(752),s=r(20),a=r(751),o=r.n(a),i=r(2),c=r.n(i),u=r(727),l=r(834),p=r(738),d=r(728),f=r(734),h=r(735),m=r(748),b=r(332),g=r(722),j=r(723),O=r(773);function v(e,t){void 0===t&&(t={});var r=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(r,t.doNotParse))try{return JSON.parse(r)}catch(n){}return e}var x=function(){return x=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},x.apply(this,arguments)},y=function(){function e(e,t){var r=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?O.parse(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){r.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=O.parse(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,r){return void 0===t&&(t={}),this._updateBrowserValues(r),v(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var r={};for(var n in this.cookies)r[n]=v(this.cookies[n],e);return r},e.prototype.set=function(e,t,r){var n;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=x(x({},this.cookies),((n={})[e]=t,n)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=O.serialize(e,t,r)),this._emitChange({name:e,value:t,options:r})},e.prototype.remove=function(e,t){var r=t=x(x({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=x({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=O.serialize(e,"",r)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),w=r(107),S=r(38),k=r(25),N=(r(109),r(12)),_=r(26),C=r(57),E=r(7),T=r.n(E),I=r(6),L=r(9),P=r(0),U=r.n(P),M=r(3),A=["className","cssModule","fluid","tag"],R={tag:M.q,fluid:U.a.oneOfType([U.a.bool,U.a.string]),className:U.a.string,cssModule:U.a.object},D=function(e){var t=e.className,r=e.cssModule,n=e.fluid,s=e.tag,a=Object(L.a)(e,A),o="container";!0===n?o="container-fluid":n&&(o="container-"+n);var i=Object(M.m)(T()(t,o),r);return c.a.createElement(s,Object(I.a)({},a,{className:i}))};D.propTypes=R,D.defaultProps={tag:"div"};var J=D,H=r(226),q=r(1),K=["fluid","bg","image","overlay","position","video","bgClassName","className","children"],z=function(e){var t=e.fluid,r=e.bg,n=e.image,s=e.overlay,a=e.position,o=e.video,i=e.bgClassName,c=e.className,u=e.children,l=Object(C.a)(e,K),p={image:n,overlay:s,position:a,video:o};return i&&(p.className=i),Object(q.jsxs)("section",Object(N.a)(Object(N.a)({className:T()(Object(_.a)({},"bg-".concat(r),r),c)},l),{},{children:[n&&Object(q.jsx)(H.a,Object(N.a)({},p)),Object(q.jsx)(J,{fluid:t,children:u})]}))};z.defaultProps={fluid:!1};var B=z,G=r(172),F=(r(753),r(15)),V=function(){var e=Object(n.a)(o.a.mark((function e(t,r){var n,s,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t({type:"REQUEST_LOGIN"}),!(n={data:{authInfo:{access_token:"sfsdsdffs-sdfsdf-sdsdf-"}}}).data){e.next=11;break}return s={authInfo:n.data.authInfo},e.next=7,t({type:"LOGIN_SUCCESS",payload:s});case 7:return Object(F.j)("currentUser",JSON.stringify(s)),e.abrupt("return",s);case 11:return t({type:"LOGIN_ERROR",error:"Invalid Username/password"}),e.abrupt("return",void 0);case 13:e.next=22;break;case 15:return e.prev=15,e.t0=e.catch(0),a=e.t0.toJSON(),i="Request failed with status code 401"===a.message?"Invalid Username/Password":a.message,e.next=21,t({type:"LOGIN_ERROR",error:i});case 21:return e.abrupt("return",{error:!0,errorMessage:i});case 22:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,r){return e.apply(this,arguments)}}(),Q=r(171);t.default=Object(S.h)((function(e){var t=Object(i.useState)("test@dmsmail.com"),r=Object(s.a)(t,2),a=r[0],c=r[1],O=Object(i.useState)("dms123"),v=Object(s.a)(O,2),x=v[0],S=v[1],N=Object(i.useState)(!1),_=Object(s.a)(N,2),C=_[0],E=_[1],T=Object(Q.b)(),I=Object(Q.c)().loading,L=function(){var t=Object(n.a)(o.a.mark((function t(r){var n;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,V(T,{userName:a,password:x});case 3:(n=t.sent).error?w.c.error(n.errorMessage):e.history.push("/dashboard");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),P=function(e){e.target.checked?((new y).set("userName",undefined.state.userName,{path:"/",maxAge:31536e3}),E(!0)):E(!1)};return Object(q.jsx)(B,{className:"py-0",children:Object(q.jsxs)(f.a,{className:"flex-center min-vh-75 py-6",children:[Object(q.jsx)(h.a,{sm:12,md:12,lg:12,xl:12,children:Object(q.jsx)(G.a,{width:100})}),Object(q.jsx)(h.a,{sm:10,md:8,lg:6,xl:5,className:"col-xxl-4",children:Object(q.jsx)(g.a,{children:Object(q.jsx)(j.a,{className:"fs--1 font-weight-normal p-5",children:Object(q.jsxs)(q.Fragment,{children:[Object(q.jsx)(f.a,{className:"text-left justify-content-between",children:Object(q.jsx)(h.a,{xs:"auto",children:Object(q.jsx)("h5",{className:"pb-2",children:"Login"})})}),Object(q.jsxs)(u.a,{onSubmit:L,children:[Object(q.jsxs)(l.a,{children:[Object(q.jsx)(p.a,{children:"Email"}),Object(q.jsx)(d.a,{placeholder:"Email",value:a,onChange:function(e){return c(e.target.value)},type:"email",required:!0})]}),Object(q.jsxs)(l.a,{children:[Object(q.jsx)(p.a,{children:"Password"}),Object(q.jsx)(d.a,{placeholder:"Password",value:x,onChange:function(e){return S(e.target.value)},type:"password",required:!0})]}),Object(q.jsxs)(f.a,{className:"justify-content-between align-items-center",children:[Object(q.jsx)(h.a,{xs:"auto",children:Object(q.jsx)(m.a,{id:"customCheckRemember",label:"Remember me",checked:C,onChange:P,type:"checkbox"})}),Object(q.jsx)(h.a,{xs:"auto",children:Object(q.jsx)(k.b,{className:"fs--1",to:"/forgotPassword",children:"Forget Password?"})})]}),Object(q.jsx)(l.a,{children:Object(q.jsx)(b.a,{color:"primary",block:!0,className:"mt-3",disabled:I,children:"Login"})})]})]})})})})]})})}))}}]);
//# sourceMappingURL=9.31c55230.chunk.js.map