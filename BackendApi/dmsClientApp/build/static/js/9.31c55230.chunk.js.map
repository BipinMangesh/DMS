{"version":3,"sources":["server/constants.js","server/request.js","../node_modules/cookie/index.js","../node_modules/universal-cookie/es6/utils.js","../node_modules/universal-cookie/es6/Cookies.js","../node_modules/universal-cookie/es6/index.js","../node_modules/reactstrap/es/Container.js","components/common/Section.js","actions/authAction.js","components/pages/login.js"],"names":["BASE_URL","service","axios","create","baseURL","interceptors","request","use","config","access_token","url","split","length","error","console","log","Promise","reject","response","status","toJSON","refresh_token","sessionStorage","getItem","resolve","getTokenByRefreshToken","then","res","setItem","data","replace","pop","clear","window","location","method","headers","btoa","exports","parse","str","options","TypeError","obj","opt","pairs","dec","decode","i","pair","index","indexOf","key","substring","trim","undefined","val","slice","tryDecode","serialize","name","enc","encode","fieldContentRegExp","test","value","maxAge","isNaN","isFinite","Math","floor","domain","path","expires","toUTCString","httpOnly","secure","sameSite","toLowerCase","decodeURIComponent","encodeURIComponent","e","readCookie","cleanValue","substr","cleanupCookieValue","doNotParse","isParsingCookie","JSON","__assign","Object","assign","t","s","n","arguments","p","prototype","hasOwnProperty","call","apply","this","Cookies","cookies","_this","changeListeners","HAS_DOCUMENT_COOKIE","cookie","parseCookies","document","catch","_updateBrowserValues","parseOptions","_emitChange","params","get","getAll","result","name_1","set","_a","stringify","remove","finalOptions","Date","addChangeListener","callback","push","removeChangeListener","idx","splice","_excluded","propTypes","tag","tagPropType","fluid","PropTypes","oneOfType","bool","string","className","cssModule","object","Container","props","Tag","attributes","_objectWithoutPropertiesLoose","containerClass","classes","mapToCssModules","classNames","React","createElement","_extends","defaultProps","Section","bg","image","overlay","position","video","bgClassName","children","rest","bgProps","Background","loginUser","dispatch","loginPayload","a","type","resp","authInfo","_payload","payload","setItemToSessionStore","errorObject","errorMessage","message","withRouter","useState","userName","setUserName","password","setPassword","isCookie","setIsCookie","useAuthDispatch","loading","useAuthState","onSignInClick","preventDefault","toast","history","setCookie","event","target","checked","state","Row","Col","sm","md","lg","xl","Logo","width","Card","CardBody","xs","Form","onSubmit","FormGroup","Label","Input","placeholder","onChange","required","CustomInput","id","label","to","Button","color","block","disabled"],"mappings":"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","file":"static/js/9.31c55230.chunk.js","sourcesContent":["\nexport const BASE_URL = 'http://localhost:3001/api'","import axios from \"axios\";\nimport {BASE_URL} from './constants';\n//import { getToken, getRefreshToken } from \"../utils/auth\";\n\n\nconst service = axios.create({\n  baseURL: BASE_URL, // api base_url\n  //timeout: 5000, // request timeout\n});\n\nservice.interceptors.request.use(\n  (config) => {\n    // Do something before request is sent\n    //if (store.getState().user.token) {\n      if(access_token()){\n        if(config.url.split('?').length===1){\n          config.url=`${config.url}?access_token=${access_token()}`;\n        }else{\n          config.url=`${config.url}&access_token=${access_token()}`;\n        }\n      //config.headers.Authorization = getToken();\n      //config.headers['access_token'] = access_token();\n    }\n    return config;\n  },\n  (error) => {\n    // Do something with request error\n    console.log(error); // for debug\n    Promise.reject(error);\n  }\n);\nservice.interceptors.response.use(\n  (response) => response, \n  (error) => {\n    console.log(\"err\" + error); // for debug\n    const { status } = error.response;\n    if (status === 401) {\n      if(error.response.config.url==='/login'){\n        return;\n      }\n      let refresh_token = sessionStorage.getItem('refresh_token')\n      if(refresh_token){\n        return new Promise((resolve)=> getTokenByRefreshToken(refresh_token).then((res)=>{\n          console.log('refresh_token Info:', res)\n          if(res.status!==200){\n              sessionStorage.clear();\n              window.location.replace('/login');\n           }else{\n              sessionStorage.setItem('access_token', res.data.access_token);\n              sessionStorage.setItem('refresh_token', res.data.refresh_token);\n              const {config}=error;\n              let url=config.url;\n              config.url=url.replace(url.split('&').pop(),'access_token='+res.data.access_token);\n              return resolve(service(config));\n           }\n        }));\n      }else{\n        sessionStorage.clear();\n        window.location.replace('/login');\n      }\n    }else{\n      return Promise.reject(error.toJSON());\n    }\n  }\n);\n\nconst getTokenByRefreshToken=(refresh_token)=>{\n  return axios({\n    method: 'POST',\n    headers: {\n      'Authorization': 'Basic ' + btoa('my-trusted-client:secret'),\n      'Content-Type': 'application/x-www-form-urlencoded'\n  },\n    url:`${BASE_URL}/oauth/token?grant_type=refresh_token&refresh_token=${refresh_token}`,\n  })\n\n}\n\nconst access_token=()=>{\n  return ''\n}\nexport default service;\n\n\nexport const getAccessToken=({userName, password})=> {\n  let promise = axios({\n    url:`${BASE_URL}/oauth/token?grant_type=password&username=${userName}&password=${password}`,\n    method: 'POST',\n    headers: {\n      'Authorization': 'Basic ' + btoa('my-trusted-client:secret'),\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n  });\n  return promise;\n}\n\nexport const login=({token})=>{\n  let d = new Date();\n  let month = '' + (d.getMonth() + 1);\n  let day = '' + d.getDate();\n  let year = d.getFullYear();\n\n    if (month.length < 2) \n        month = '0' + month;\n    if (day.length < 2) \n        day = '0' + day;\n  let promise = axios({\n    url:`${BASE_URL}/login/${0}?currentDate=${[year, month, day].join('-')}&access_token=${token}`,\n    method:'get'\n  });\n  return promise;\n}\n\n","/*!\n * cookie\n * Copyright(c) 2012-2014 Roman Shtylman\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module exports.\n * @public\n */\n\nexports.parse = parse;\nexports.serialize = serialize;\n\n/**\n * Module variables.\n * @private\n */\n\nvar decode = decodeURIComponent;\nvar encode = encodeURIComponent;\n\n/**\n * RegExp to match field-content in RFC 7230 sec 3.2\n *\n * field-content = field-vchar [ 1*( SP / HTAB ) field-vchar ]\n * field-vchar   = VCHAR / obs-text\n * obs-text      = %x80-FF\n */\n\nvar fieldContentRegExp = /^[\\u0009\\u0020-\\u007e\\u0080-\\u00ff]+$/;\n\n/**\n * Parse a cookie header.\n *\n * Parse the given cookie header string into an object\n * The object has the various cookies as keys(names) => values\n *\n * @param {string} str\n * @param {object} [options]\n * @return {object}\n * @public\n */\n\nfunction parse(str, options) {\n  if (typeof str !== 'string') {\n    throw new TypeError('argument str must be a string');\n  }\n\n  var obj = {}\n  var opt = options || {};\n  var pairs = str.split(';')\n  var dec = opt.decode || decode;\n\n  for (var i = 0; i < pairs.length; i++) {\n    var pair = pairs[i];\n    var index = pair.indexOf('=')\n\n    // skip things that don't look like key=value\n    if (index < 0) {\n      continue;\n    }\n\n    var key = pair.substring(0, index).trim()\n\n    // only assign once\n    if (undefined == obj[key]) {\n      var val = pair.substring(index + 1, pair.length).trim()\n\n      // quoted values\n      if (val[0] === '\"') {\n        val = val.slice(1, -1)\n      }\n\n      obj[key] = tryDecode(val, dec);\n    }\n  }\n\n  return obj;\n}\n\n/**\n * Serialize data into a cookie header.\n *\n * Serialize the a name value pair into a cookie string suitable for\n * http headers. An optional options object specified cookie parameters.\n *\n * serialize('foo', 'bar', { httpOnly: true })\n *   => \"foo=bar; httpOnly\"\n *\n * @param {string} name\n * @param {string} val\n * @param {object} [options]\n * @return {string}\n * @public\n */\n\nfunction serialize(name, val, options) {\n  var opt = options || {};\n  var enc = opt.encode || encode;\n\n  if (typeof enc !== 'function') {\n    throw new TypeError('option encode is invalid');\n  }\n\n  if (!fieldContentRegExp.test(name)) {\n    throw new TypeError('argument name is invalid');\n  }\n\n  var value = enc(val);\n\n  if (value && !fieldContentRegExp.test(value)) {\n    throw new TypeError('argument val is invalid');\n  }\n\n  var str = name + '=' + value;\n\n  if (null != opt.maxAge) {\n    var maxAge = opt.maxAge - 0;\n\n    if (isNaN(maxAge) || !isFinite(maxAge)) {\n      throw new TypeError('option maxAge is invalid')\n    }\n\n    str += '; Max-Age=' + Math.floor(maxAge);\n  }\n\n  if (opt.domain) {\n    if (!fieldContentRegExp.test(opt.domain)) {\n      throw new TypeError('option domain is invalid');\n    }\n\n    str += '; Domain=' + opt.domain;\n  }\n\n  if (opt.path) {\n    if (!fieldContentRegExp.test(opt.path)) {\n      throw new TypeError('option path is invalid');\n    }\n\n    str += '; Path=' + opt.path;\n  }\n\n  if (opt.expires) {\n    if (typeof opt.expires.toUTCString !== 'function') {\n      throw new TypeError('option expires is invalid');\n    }\n\n    str += '; Expires=' + opt.expires.toUTCString();\n  }\n\n  if (opt.httpOnly) {\n    str += '; HttpOnly';\n  }\n\n  if (opt.secure) {\n    str += '; Secure';\n  }\n\n  if (opt.sameSite) {\n    var sameSite = typeof opt.sameSite === 'string'\n      ? opt.sameSite.toLowerCase() : opt.sameSite;\n\n    switch (sameSite) {\n      case true:\n        str += '; SameSite=Strict';\n        break;\n      case 'lax':\n        str += '; SameSite=Lax';\n        break;\n      case 'strict':\n        str += '; SameSite=Strict';\n        break;\n      case 'none':\n        str += '; SameSite=None';\n        break;\n      default:\n        throw new TypeError('option sameSite is invalid');\n    }\n  }\n\n  return str;\n}\n\n/**\n * Try decoding a string using a decoding function.\n *\n * @param {string} str\n * @param {function} decode\n * @private\n */\n\nfunction tryDecode(str, decode) {\n  try {\n    return decode(str);\n  } catch (e) {\n    return str;\n  }\n}\n","import * as cookie from 'cookie';\r\nexport function hasDocumentCookie() {\r\n    // Can we get/set cookies on document.cookie?\r\n    return typeof document === 'object' && typeof document.cookie === 'string';\r\n}\r\nexport function cleanCookies() {\r\n    document.cookie.split(';').forEach(function (c) {\r\n        document.cookie = c\r\n            .replace(/^ +/, '')\r\n            .replace(/=.*/, '=;expires=' + new Date().toUTCString() + ';path=/');\r\n    });\r\n}\r\nexport function parseCookies(cookies, options) {\r\n    if (typeof cookies === 'string') {\r\n        return cookie.parse(cookies, options);\r\n    }\r\n    else if (typeof cookies === 'object' && cookies !== null) {\r\n        return cookies;\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\nexport function isParsingCookie(value, doNotParse) {\r\n    if (typeof doNotParse === 'undefined') {\r\n        // We guess if the cookie start with { or [, it has been serialized\r\n        doNotParse =\r\n            !value || (value[0] !== '{' && value[0] !== '[' && value[0] !== '\"');\r\n    }\r\n    return !doNotParse;\r\n}\r\nexport function readCookie(value, options) {\r\n    if (options === void 0) { options = {}; }\r\n    var cleanValue = cleanupCookieValue(value);\r\n    if (isParsingCookie(cleanValue, options.doNotParse)) {\r\n        try {\r\n            return JSON.parse(cleanValue);\r\n        }\r\n        catch (e) {\r\n            // At least we tried\r\n        }\r\n    }\r\n    // Ignore clean value if we failed the deserialization\r\n    // It is not relevant anymore to trim those values\r\n    return value;\r\n}\r\nfunction cleanupCookieValue(value) {\r\n    // express prepend j: before serializing a cookie\r\n    if (value && value[0] === 'j' && value[1] === ':') {\r\n        return value.substr(2);\r\n    }\r\n    return value;\r\n}\r\n","var __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nimport * as cookie from 'cookie';\r\nimport { hasDocumentCookie, parseCookies, readCookie } from './utils';\r\nvar Cookies = /** @class */ (function () {\r\n    function Cookies(cookies, options) {\r\n        var _this = this;\r\n        this.changeListeners = [];\r\n        this.HAS_DOCUMENT_COOKIE = false;\r\n        this.cookies = parseCookies(cookies, options);\r\n        new Promise(function () {\r\n            _this.HAS_DOCUMENT_COOKIE = hasDocumentCookie();\r\n        }).catch(function () { });\r\n    }\r\n    Cookies.prototype._updateBrowserValues = function (parseOptions) {\r\n        if (!this.HAS_DOCUMENT_COOKIE) {\r\n            return;\r\n        }\r\n        this.cookies = cookie.parse(document.cookie, parseOptions);\r\n    };\r\n    Cookies.prototype._emitChange = function (params) {\r\n        for (var i = 0; i < this.changeListeners.length; ++i) {\r\n            this.changeListeners[i](params);\r\n        }\r\n    };\r\n    Cookies.prototype.get = function (name, options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        return readCookie(this.cookies[name], options);\r\n    };\r\n    Cookies.prototype.getAll = function (options, parseOptions) {\r\n        if (options === void 0) { options = {}; }\r\n        this._updateBrowserValues(parseOptions);\r\n        var result = {};\r\n        for (var name_1 in this.cookies) {\r\n            result[name_1] = readCookie(this.cookies[name_1], options);\r\n        }\r\n        return result;\r\n    };\r\n    Cookies.prototype.set = function (name, value, options) {\r\n        var _a;\r\n        if (typeof value === 'object') {\r\n            value = JSON.stringify(value);\r\n        }\r\n        this.cookies = __assign(__assign({}, this.cookies), (_a = {}, _a[name] = value, _a));\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, value, options);\r\n        }\r\n        this._emitChange({ name: name, value: value, options: options });\r\n    };\r\n    Cookies.prototype.remove = function (name, options) {\r\n        var finalOptions = (options = __assign(__assign({}, options), { expires: new Date(1970, 1, 1, 0, 0, 1), maxAge: 0 }));\r\n        this.cookies = __assign({}, this.cookies);\r\n        delete this.cookies[name];\r\n        if (this.HAS_DOCUMENT_COOKIE) {\r\n            document.cookie = cookie.serialize(name, '', finalOptions);\r\n        }\r\n        this._emitChange({ name: name, value: undefined, options: options });\r\n    };\r\n    Cookies.prototype.addChangeListener = function (callback) {\r\n        this.changeListeners.push(callback);\r\n    };\r\n    Cookies.prototype.removeChangeListener = function (callback) {\r\n        var idx = this.changeListeners.indexOf(callback);\r\n        if (idx >= 0) {\r\n            this.changeListeners.splice(idx, 1);\r\n        }\r\n    };\r\n    return Cookies;\r\n}());\r\nexport default Cookies;\r\n","import Cookies from './Cookies';\r\nexport default Cookies;\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nvar _excluded = [\"className\", \"cssModule\", \"fluid\", \"tag\"];\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  fluid: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Container = function Container(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      fluid = props.fluid,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, _excluded);\n\n  var containerClass = 'container';\n\n  if (fluid === true) {\n    containerClass = 'container-fluid';\n  } else if (fluid) {\n    containerClass = \"container-\" + fluid;\n  }\n\n  var classes = mapToCssModules(classNames(className, containerClass), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nContainer.propTypes = propTypes;\nContainer.defaultProps = defaultProps;\nexport default Container;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { Container } from 'reactstrap';\nimport Background from './Background';\n\nconst Section = ({ fluid, bg, image, overlay, position, video, bgClassName, className, children, ...rest }) => {\n  const bgProps = { image, overlay, position, video };\n  bgClassName && (bgProps.className = bgClassName);\n\n  return (\n    <section className={classNames({ [`bg-${bg}`]: bg }, className)} {...rest}>\n      {image && <Background {...bgProps} />}\n      <Container fluid={fluid}>{children}</Container>\n    </section>\n  );\n};\n\nSection.propTypes = {\n  fluid: PropTypes.bool,\n  bg: PropTypes.string,\n  image: PropTypes.string,\n  overlay: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  position: PropTypes.oneOfType([\n    PropTypes.string,\n    PropTypes.shape({\n      x: PropTypes.string,\n      y: PropTypes.string\n    })\n  ]),\n  video: PropTypes.array,\n  bgClassName: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.node\n};\n\nSection.defaultProps = {\n  fluid: false\n};\n\nexport default Section;\n","import  {getAccessToken, login} from '../server/request';\nimport {setItemToSessionStore} from '../helpers/utils'\n\nexport const loginUser= async(dispatch,loginPayload)=>{    \n\ttry {\n\t\tdispatch({ type: 'REQUEST_LOGIN' });\n\t\t//const resp=await getAccessToken({userName:loginPayload.userName, password:loginPayload.password});\n\t\tconst resp={data:{authInfo:{access_token:'sfsdsdffs-sdfsdf-sdsdf-'}}}\n\t\tif(resp.data){\n\t\t\t\tconst _payload={authInfo:resp.data.authInfo}\n\t\t\t\tawait dispatch({ type: 'LOGIN_SUCCESS', payload: _payload });\n\t\t\t\tsetItemToSessionStore('currentUser', JSON.stringify(_payload));\n\t\t\t\treturn _payload;\n\t\t}else{\n\t\t\tdispatch({ type: 'LOGIN_ERROR', error: 'Invalid Username/password' });\n\t\t\treturn undefined;\n\t\t}\n\t} catch (error) {\n\t\tconst errorObject=error.toJSON();\n\t\tconst errorMessage=errorObject.message==='Request failed with status code 401'?'Invalid Username/Password':errorObject.message;\t\t\n\t\tawait dispatch({ type: 'LOGIN_ERROR', error:errorMessage  });\n\t\treturn {error:true,errorMessage}\n\t}\n}\n\nexport const logout=(dispatch)=>{\n\ttry{\n\t\tsetItemToSessionStore('currentUser', JSON.stringify({}));\n\t}catch(ex){\n\t}\n\treturn true\n}","import React,{useState} from 'react';\nimport { Col, Row, Card, CardBody, Form, FormGroup, Input, Label, CustomInput, Button } from 'reactstrap';\nimport Cookies from 'universal-cookie'\nimport { toast } from 'react-toastify';\nimport { withRouter } from \"react-router\";\nimport { Link  } from 'react-router-dom';\nimport moment from 'moment';\nimport Section from '../common/Section';\nimport Logo from '../navbar/Logo';\nimport {loginUser} from '../../actions/authAction';\nimport {useAuthDispatch, useAuthState} from '../../context';\n\nconst Login=(props)=>{\n    const [userName, setUserName]=useState('test@dmsmail.com');\n    const [password, setPassword]=useState('dms123');\n    const [isCookie, setIsCookie]=useState(false);\n    const dispatch = useAuthDispatch();\n    const {loading}=useAuthState();\n\n    const onSignInClick=async(e)=>{\n        e.preventDefault()\n        const result=await loginUser(dispatch,{userName,password});\n        if(!result.error){\n          props.history.push('/dashboard');\n        }else{\n          toast.error(result.errorMessage);\n        }\n    }\n    const setCookie=(event)=> {\n        const target = event.target;\n        const value = target.checked;\n        if (value) {\n            let cookie = new Cookies();\n            cookie.set('userName', this.state.userName, {path: '/', maxAge: 31536000});\n            setIsCookie(true);\n        }else{\n            setIsCookie(false);\n        }\n    }\n\n    const renderLogin=()=>{\n        return <Form onSubmit={onSignInClick}>\n        <FormGroup>\n          <Label>Email</Label>\n          <Input\n            placeholder={'Email'}\n            value={userName}\n            onChange={e=>setUserName(e.target.value)}\n            type=\"email\" required\n          />\n        </FormGroup>\n        <FormGroup>\n          <Label>Password</Label>\n          <Input\n            placeholder={'Password'}\n            value={password}\n            onChange={e=>setPassword(e.target.value)}\n            type=\"password\" required\n          />\n        </FormGroup>\n        <Row className=\"justify-content-between align-items-center\">\n          <Col xs=\"auto\">\n            <CustomInput\n              id=\"customCheckRemember\"\n              label=\"Remember me\"\n              checked={isCookie}\n              onChange={setCookie}\n              type=\"checkbox\"\n            />\n          </Col>\n          <Col xs=\"auto\">\n            <Link className=\"fs--1\" to={`/forgotPassword`}> \n              Forget Password?\n            </Link>\n          </Col>\n        </Row>\n        <FormGroup>\n          <Button color=\"primary\" block className=\"mt-3\" \n          disabled={loading}\n          >\n            Login\n          </Button>\n        </FormGroup>\n      </Form>\n      }\n\n\n    return (\n        <Section className=\"py-0\">\n          <Row className=\"flex-center min-vh-75 py-6\"> \n            <Col sm={12} md={12} lg={12} xl={12}><Logo width={100} /></Col>            \n            <Col sm={10} md={8} lg={6} xl={5} className=\"col-xxl-4\">               \n              <Card>\n                <CardBody className=\"fs--1 font-weight-normal p-5\">\n                  <>\n                    <Row className=\"text-left justify-content-between\">\n                      <Col xs=\"auto\">\n                        <h5 className=\"pb-2\">Login</h5>\n                      </Col>\n                    </Row>\n                      {\n                        renderLogin()\n                      }                 \n                  </>\n                </CardBody>\n              </Card>                                \n            </Col>\n          </Row>\n        </Section>\n        )\n\n}\nexport default withRouter(Login)"],"sourceRoot":""}